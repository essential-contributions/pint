// db <<<
// 0, 42
// >>>

storage {
    x: int,
    y: int,
}

predicate Test {
//    state c1 = true ? storage::x == 42 : true;
//    state c2 = storage::x == nil ? true : storage::x == 42;

    // `x` here is set in the pre state db.  Selecting it should still work.

//    constraint c1; 
//    constraint c1';
//    constraint c2; 
//    constraint c2';

    state c3 = storage::y == nil ? true : storage::y == 42;
    state c4 = true; //false ? storage::y != 42 : true;

    // `y` here is `nil` because it's not set in the pre state db, so comparing it to 42 should panic.
    // However, the constraint should still pass due to the short-circuit.

    constraint c3;
//    constraint c3';
    constraint c4;
}
