<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Hello, Golf! - The Book of Pint</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../the-book-of-pint.html">The Book of Pint</a></li><li class="chapter-item expanded "><a href="../getting_started/index.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../getting_started/installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../getting_started/hello-world.html"><strong aria-hidden="true">1.2.</strong> Hello, World!</a></li><li class="chapter-item expanded "><a href="../getting_started/hello-golf.html" class="active"><strong aria-hidden="true">1.3.</strong> Hello, Golf!</a></li></ol></li><li class="chapter-item expanded "><a href="../examples/index.html"><strong aria-hidden="true">2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../basics/index.html"><strong aria-hidden="true">3.</strong> Pint Language Basics</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Book of Pint</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/essential-contributions/pint" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h2 id="hello-golf"><a class="header" href="#hello-golf">Hello, Golf!</a></h2>
<p>Let's make things more interesting! While the &quot;Hello, world!&quot; program is a good introductory example for starting your Pint journey, it is not a very interesting Pint program because it has a single constraint that can be satisfied trivially. In this chapter, we go over another Pint program that has a real world application.</p>
<p>You're in charge of designing a new 18-hole golf course with a total &quot;par&quot; of 72. If you're not familiar with the term, &quot;par&quot; for a given golf hole is the predetermined number of strokes that a <em>proficient</em> golfer should require to complete the hole. Each golf hole is assigned a &quot;par&quot; of 3, 4, or 5 depending on its playing length. Your task is to come up with a &quot;par&quot; assignment for each of the 18 holes such that the total par is 72 (and then to design the actual holes after).</p>
<p>Create a new project under <code>~/projects</code> and call it <code>golf</code>:</p>
<pre><code class="language-console">$ cd ~/projects
$ mkdir golf
$ cd golf
</code></pre>
<p>Next, make a new source file and call it <code>main.pnt</code>. In order to model the problem above using Pint, we have to think about 2 things:</p>
<ol>
<li>What decision variables should we define and solve for that would help us solve our design problem?</li>
<li>What constraints exactly describe the requirements of the problem?</li>
</ol>
<h3 id="decision-variables"><a class="header" href="#decision-variables">Decision Variables</a></h3>
<p>Recall that our goal is to assign a par value for each of the 18 golf holes. One way of representing these values is using 18 <strong>integer</strong> decision variables as follows:</p>
<pre><code class="language-pint">let h0: int;
let h1: int;
.
.
let h17: int;
</code></pre>
<p>Notice the <code>int</code> (integer) primitive type that annotates each variable. Par values have to be integers!</p>
<p>A better way and more concise way of rewriting the above is using an array of 18 <code>int</code> values as follows:</p>
<pre><code class="language-pint">let h: int[18];
</code></pre>
<p>The type <code>int[18]</code> describes an array of 18 integers.</p>
<h3 id="constraints"><a class="header" href="#constraints">Constraints</a></h3>
<h4 id="par-values-constraints"><a class="header" href="#par-values-constraints">Par Values Constraints</a></h4>
<p>The first constraint that the design problem imposes is that each hole is assigned a par value of 3, 4, or 5. There are two ways to model this in Pint.</p>
<p>We can use the comparison operators to indicate that each par is greater or equal (<code>&gt;=</code>) to 3 and (<code>&amp;&amp;</code>) less than or equal (<code>&lt;=</code>) to 5:</p>
<pre><code class="language-pint">constraint h[0] &gt;= 3 &amp;&amp; h[0] &lt;= 5;
constraint h[1] &gt;= 3 &amp;&amp; h[1] &lt;= 5;
.
.
constraint h[17] &gt;= 3 &amp;&amp; h[17] &lt;= 5;
</code></pre>
<p>Notice the use of the array element access syntax using <code>[..]</code>. In Pint, <code>h[i]</code> is the <code>i+1</code>th element in array <code>h</code>.</p>
<p>Alternatively, we can constraint each element in <code>h</code> using <code>in</code> and a <strong>range</strong> expression as follows:</p>
<pre><code class="language-pint">constraint h[0] in 3..5;
constraint h[1] in 3..5;
.
.
constraint h[17] in 3..5;
</code></pre>
<p>The expression <code>h[i] in 3..5</code> means: <code>h[i]</code> belongs to the set of integers between 3 and 5 inclusive. If <code>h</code> was an array of <code>real</code> values instead, then the range <code>3..5</code> would refer to the set of real numbers between 3 and 5 inclusive.</p>
<h4 id="total-par-constraint"><a class="header" href="#total-par-constraint">Total Par Constraint</a></h4>
<p>The problem definition imposes another requirement: the total par of the golf course should be 72. The way to represent this constraint is using a summation as follows:</p>
<pre><code class="language-pint">constraint h[0] + h[1] + h[2] + h[3] + h[4] + h[5] + h[6]
         + h[7] + h[8] + h[9] + h[10] + h[11] + h[12] + h[13]
         + h[14] + h[15] + h[16] + h[17] == 72
</code></pre>
<h3 id="final-program"><a class="header" href="#final-program">Final Program</a></h3>
<p>To finish our program, we need a <code>solve</code> directive and an (optional) <code>print</code> directive. Because we do not have an objective function to optimize for, we can simply use a <code>solve satisfy</code> directive.</p>
<blockquote>
<p><strong>Note:</strong> some modeling problems require optimizing (i.e. maximizing or minimizing) some objective function. Modeling these problems in Pint require using the directives <code>solve maximize &lt;expr&gt;;</code> or <code>solve minimize &lt;expr&gt;;</code> where <code>&lt;expr&gt;</code> is any valid Pint expression. The goal of an optimization problem is to find the <em>best</em> solution satisfying the constraints instead of <em>any</em> solution.</p>
</blockquote>
<p>Our final program now looks like this:</p>
<pre><code class="language-pint">let h: int[18];

constraint h[0] in 3..5;
constraint h[1] in 3..5;
constraint h[2] in 3..5;
constraint h[3] in 3..5;
constraint h[4] in 3..5;
constraint h[5] in 3..5;
constraint h[6] in 3..5;
constraint h[7] in 3..5;
constraint h[8] in 3..5;
constraint h[9] in 3..5;
constraint h[10] in 3..5;
constraint h[11] in 3..5;
constraint h[12] in 3..5;
constraint h[13] in 3..5;
constraint h[14] in 3..5;
constraint h[15] in 3..5;
constraint h[16] in 3..5;
constraint h[17] in 3..5;

constraint h[0] + h[1] + h[2] + h[3] + h[4] + h[5] + h[6]
         + h[7] + h[8] + h[9] + h[10] + h[11] + h[12] + h[13]
         + h[14] + h[15] + h[16] + h[17] == 72

solve satisfy;

print h;
</code></pre>
<p>Open the <code>main.pnt</code> file you created earlier and paste the code above. Save the file, go back to your terminal window in the <code>~/projects/golf/</code> directory, and enter the following command to compile and solve the program:</p>
<pre><code class="language-console">$ pintc --solve main.rs
</code></pre>
<p>The following should be printed to the terminal:</p>
<pre><code class="language-console">[3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5];
</code></pre>
<p>The values you see may differ from the above, but any values you see should satisfy have the two properties:</p>
<ol>
<li>Each value is an integer between 3 and 5 inclusive.</li>
<li>The sum of all the values is exactly 72.</li>
</ol>
<h3 id="lets-make-it-more-interesting"><a class="header" href="#lets-make-it-more-interesting">Let's Make it More Interesting</a></h3>
<p>You may notice that the solution above does not have any par 4 holes (again, the solution you see in your terminal might be different). This is probably undesirable for most players. Because our program did not impose any requirements on the statistical distribution of pars, the programmatic solver is free to choose a &quot;boring&quot; solution, as long as it satisfies the constraints.</p>
<p>To make the golf course more interesting, we may want to be more specific about the distribution of par values. Assume that we would like to have <strong>exactly 6 par 4 holes</strong> in our new golf course. There are multiple ways of modeling this, but here's one them:</p>
<pre><code class="language-pint">constraint  (h[0] == 4) as int
          + (h[1] == 4) as int
          + (h[2] == 4) as int
          + (h[3] == 4) as int
          + (h[4] == 4) as int
          + (h[5] == 4) as int
          + (h[6] == 4) as int
          + (h[7] == 4) as int
          + (h[8] == 4) as int
          + (h[9] == 4) as int
          + (h[10] == 4) as int
          + (h[11] == 4) as int
          + (h[12] == 4) as int
          + (h[13] == 4) as int
          + (h[14] == 4) as int
          + (h[15] == 4) as int
          + (h[16] == 4) as int
          + (h[17] == 4) as int == 6;
</code></pre>
<p>The left-hand side of the equality above counts the number of elements in array <code>h</code> that are equal to 4. Since the expression <code>h[i] == 4</code> is a <code>bool</code>, we need to cast it to an <code>int</code>, using <code>as int</code>, in order to be able to use addition (<code>+</code>).</p>
<p>Adding the constraint above to our program from earlier and running <code>pintc --solve main.pnt</code> results in the following solution:</p>
<pre><code class="language-console">[5, 5, 3, 4, 3, 4, 5, 4, 4, 4, 5, 5, 3, 3, 3, 3, 5, 4];
</code></pre>
<p>which is certainly a much more interesting distribution of par values.</p>
<blockquote>
<p><strong>Note:</strong> Pint statements can be written in any order so feel free to paste the new constraint anywhere in your code, but keep in mind that readability is a critical property of good code.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> there are other more concise ways of modeling the problem above in Pint. Later chapters will describe additional Pint tools that will allows us to write shorter and more maintainable code.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../getting_started/hello-world.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../examples/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../getting_started/hello-world.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../examples/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/pint.js"></script>
        <script src="../theme/bnf.js"></script>


    </div>
    </body>
</html>
